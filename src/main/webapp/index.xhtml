<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<ui:define name="metadata">
	<f:metadata>
		<f:event listener="#{contactBean.loadContactList}"
			type="preRenderView"></f:event>
	</f:metadata>
</ui:define>

<h:body>

	<ui:composition template="view/layout/main.xhtml">
		<ui:define name="content">

			<div class="row">

				<div class="col-sm-6 col-md-4">
					<h:form>
						<div class="input-group">
							<h:inputText class="form-control search-field"
								value="#{contactBean.searchString}"></h:inputText>

							<span class="input-group-btn"> <h:commandButton
									value="Search" class="btn btn-default"
									action="#{contactBean.loadContactList}">
								</h:commandButton>
							</span>
						</div>
					</h:form>
				</div>
				
				<div class="col-sm-6 pull-right">
					<h:link outcome="view/contact/create"
					class="btn btn-success contact-add-new">
					Add new contact
				</h:link>
				</div>
			</div>
			
			<div class="row">
			
			<div class="col-lg-12 main-list">
				<ui:include src="view/contact/list.xhtml" />
			</div>
				
			</div>
			
			<script>
				/*Since setting placeholder using h:inputText isn't as trivial as I hoped it'd be,
				here's a "quick-fix" solution */
				document.getElementsByClassName('search-field')[0].placeholder = "Search by first and/or last name...";
			</script>

		</ui:define>
	</ui:composition>

</h:body>
</html>